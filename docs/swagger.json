{
    "swagger": "2.0",
    "info": {
        "description": "This is the e-invoicing service API documentation.",
        "title": "Gention E-invoicing Service API",
        "termsOfService": "http://swagger.io/terms/",
        "contact": {},
        "version": "1.0"
    },
    "basePath": "/api/v1",
    "paths": {
        "/auth/complete-forgot-password": {
            "post": {
                "description": "Complete forgot password process",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Auth"
                ],
                "summary": "Complete Forgot Password",
                "parameters": [
                    {
                        "description": "Complete forgot password request payload",
                        "name": "data",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/models.CompleteForgotPassword"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "forgot password complete successfully",
                        "schema": {
                            "$ref": "#/definitions/models.Response"
                        }
                    },
                    "400": {
                        "description": "Bad request, validation failed",
                        "schema": {
                            "$ref": "#/definitions/models.Response"
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "$ref": "#/definitions/models.Response"
                        }
                    },
                    "422": {
                        "description": "Unprocessable entity",
                        "schema": {
                            "$ref": "#/definitions/models.Response"
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "schema": {
                            "$ref": "#/definitions/models.Response"
                        }
                    }
                }
            }
        },
        "/auth/initiate-forgot-password": {
            "post": {
                "description": "Initiate forgot password process",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Auth"
                ],
                "summary": "Initiate Forgot Password",
                "parameters": [
                    {
                        "description": "Forgot password request payload",
                        "name": "data",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/models.InitiateForgotPassword"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "forgot password initiated successfully",
                        "schema": {
                            "$ref": "#/definitions/models.Response"
                        }
                    },
                    "400": {
                        "description": "Bad request, validation failed",
                        "schema": {
                            "$ref": "#/definitions/models.Response"
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "$ref": "#/definitions/models.Response"
                        }
                    },
                    "422": {
                        "description": "Unprocessable entity",
                        "schema": {
                            "$ref": "#/definitions/models.Response"
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "schema": {
                            "$ref": "#/definitions/models.Response"
                        }
                    }
                }
            }
        },
        "/auth/login": {
            "post": {
                "description": "Login to the system",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Auth"
                ],
                "summary": "Login",
                "parameters": [
                    {
                        "description": "Login request payload",
                        "name": "data",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/models.LoginRequestModel"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Login successfully",
                        "schema": {
                            "$ref": "#/definitions/models.LoginResponse"
                        }
                    },
                    "400": {
                        "description": "Bad request, validation failed",
                        "schema": {
                            "$ref": "#/definitions/models.Response"
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "$ref": "#/definitions/models.Response"
                        }
                    },
                    "422": {
                        "description": "Unprocessable entity",
                        "schema": {
                            "$ref": "#/definitions/models.Response"
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "schema": {
                            "$ref": "#/definitions/models.Response"
                        }
                    }
                }
            }
        },
        "/auth/logout": {
            "get": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Logout from the system",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Auth"
                ],
                "summary": "Logout",
                "responses": {
                    "200": {
                        "description": "user logout successfully",
                        "schema": {
                            "$ref": "#/definitions/models.Response"
                        }
                    },
                    "400": {
                        "description": "Bad request, validation failed",
                        "schema": {
                            "$ref": "#/definitions/models.Response"
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "$ref": "#/definitions/models.Response"
                        }
                    },
                    "422": {
                        "description": "Unprocessable entity",
                        "schema": {
                            "$ref": "#/definitions/models.Response"
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "schema": {
                            "$ref": "#/definitions/models.Response"
                        }
                    }
                }
            }
        },
        "/auth/register": {
            "post": {
                "description": "Onboard to the system",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Auth"
                ],
                "summary": "Register",
                "parameters": [
                    {
                        "description": "Login request payload",
                        "name": "data",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/models.CreateUserRequestModel"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Registered successfully",
                        "schema": {
                            "$ref": "#/definitions/models.Response"
                        }
                    },
                    "400": {
                        "description": "Bad request, validation failed",
                        "schema": {
                            "$ref": "#/definitions/models.Response"
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "$ref": "#/definitions/models.Response"
                        }
                    },
                    "422": {
                        "description": "Unprocessable entity",
                        "schema": {
                            "$ref": "#/definitions/models.Response"
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "schema": {
                            "$ref": "#/definitions/models.Response"
                        }
                    }
                }
            }
        },
        "/business/business-id/{id}": {
            "patch": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Update Business ID of a business using its ID",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Business"
                ],
                "summary": "Update Business ID",
                "parameters": [
                    {
                        "type": "string",
                        "format": "uuid",
                        "description": "Business ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "Update business ID request payload",
                        "name": "data",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/models.UpdateBusinessIDRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Business updated successfully",
                        "schema": {
                            "$ref": "#/definitions/models.Response"
                        }
                    },
                    "400": {
                        "description": "Bad request",
                        "schema": {
                            "$ref": "#/definitions/models.Response"
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "$ref": "#/definitions/models.Response"
                        }
                    },
                    "404": {
                        "description": "Business not found",
                        "schema": {
                            "$ref": "#/definitions/models.Response"
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "schema": {
                            "$ref": "#/definitions/models.Response"
                        }
                    }
                }
            }
        },
        "/health": {
            "get": {
                "description": "Performs a basic service availability check.",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Health"
                ],
                "summary": "Health check (GET)",
                "responses": {
                    "200": {
                        "description": "ping successful",
                        "schema": {
                            "$ref": "#/definitions/models.Response"
                        }
                    },
                    "400": {
                        "description": "ping failed",
                        "schema": {
                            "$ref": "#/definitions/models.Response"
                        }
                    }
                }
            },
            "post": {
                "description": "Accepts a ping message and validates connectivity.",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Health"
                ],
                "summary": "Health check (POST)",
                "parameters": [
                    {
                        "description": "Ping request payload",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/models.Ping"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "ping successful",
                        "schema": {
                            "$ref": "#/definitions/models.Response"
                        }
                    },
                    "400": {
                        "description": "invalid request or validation failed",
                        "schema": {
                            "$ref": "#/definitions/models.Response"
                        }
                    },
                    "500": {
                        "description": "ping failed",
                        "schema": {
                            "$ref": "#/definitions/models.Response"
                        }
                    }
                }
            }
        },
        "/health/firs": {
            "get": {
                "description": "Calls external FIRS API to confirm connectivity.",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Health"
                ],
                "summary": "FIRS API Health Check",
                "responses": {
                    "200": {
                        "description": "ping successful",
                        "schema": {
                            "$ref": "#/definitions/models.Response"
                        }
                    },
                    "400": {
                        "description": "invalid response from FIRS API",
                        "schema": {
                            "$ref": "#/definitions/models.Response"
                        }
                    }
                }
            }
        },
        "/invoice/confirm/{irn}": {
            "get": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Confirms an invoice with IRN.",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Invoice"
                ],
                "summary": "Confirm Invoice",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Invoice Reference Number (IRN)",
                        "name": "irn",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Invoice confirmed successfully",
                        "schema": {
                            "$ref": "#/definitions/models.Response"
                        }
                    },
                    "400": {
                        "description": "Bad request",
                        "schema": {
                            "$ref": "#/definitions/models.Response"
                        }
                    }
                }
            }
        },
        "/invoice/download/{irn}": {
            "get": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Downloads an invoice from FIRS using the IRN.",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Invoice"
                ],
                "summary": "Download Invoice",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Invoice Reference Number (IRN)",
                        "name": "irn",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Invoice downloaded successfully",
                        "schema": {
                            "$ref": "#/definitions/models.Response"
                        }
                    },
                    "400": {
                        "description": "Bad request",
                        "schema": {
                            "$ref": "#/definitions/models.Response"
                        }
                    }
                }
            }
        },
        "/invoice/transmit/confirm/{irn}": {
            "get": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Confirms a transmitted invoice using the IRN.",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Invoice"
                ],
                "summary": "Confirm Transmitted Invoice",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Invoice Reference Number (IRN)",
                        "name": "irn",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Invoice confirmed successfully",
                        "schema": {
                            "$ref": "#/definitions/models.Response"
                        }
                    },
                    "400": {
                        "description": "Bad request",
                        "schema": {
                            "$ref": "#/definitions/models.Response"
                        }
                    }
                }
            }
        },
        "/invoice/upload": {
            "post": {
                "security": [],
                "description": "Receives invoice data as a json",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Internal Invoice"
                ],
                "summary": "Initializes invoice creation in one go",
                "parameters": [
                    {
                        "description": "Invoice Payload",
                        "name": "payload",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/firs_models.InvoiceRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Invoice created successfully",
                        "schema": {
                            "$ref": "#/definitions/models.Response"
                        }
                    },
                    "400": {
                        "description": "Bad request",
                        "schema": {
                            "$ref": "#/definitions/models.Response"
                        }
                    }
                }
            }
        }
    },
    "definitions": {
        "firs_models.AllowanceCharge": {
            "type": "object",
            "properties": {
                "amount": {
                    "type": "number"
                },
                "charge_indicator": {
                    "type": "boolean"
                }
            }
        },
        "firs_models.DocumentReference": {
            "type": "object",
            "properties": {
                "irn": {
                    "type": "string"
                },
                "issue_date": {
                    "type": "string"
                }
            }
        },
        "firs_models.InvoiceDeliveryPeriod": {
            "type": "object",
            "properties": {
                "end_date": {
                    "type": "string"
                },
                "start_date": {
                    "type": "string"
                }
            }
        },
        "firs_models.InvoiceLine": {
            "type": "object",
            "properties": {
                "discount_amount": {
                    "type": "number"
                },
                "discount_rate": {
                    "type": "number"
                },
                "fee_amount": {
                    "type": "number"
                },
                "fee_rate": {
                    "type": "number"
                },
                "hsn_code": {
                    "type": "string"
                },
                "invoiced_quantity": {
                    "type": "integer"
                },
                "item": {
                    "$ref": "#/definitions/firs_models.Item"
                },
                "line_extension_amount": {
                    "type": "number"
                },
                "price": {
                    "$ref": "#/definitions/firs_models.Price"
                },
                "product_category": {
                    "type": "string"
                }
            }
        },
        "firs_models.InvoiceRequest": {
            "type": "object",
            "properties": {
                "_document_reference": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/firs_models.DocumentReference"
                    }
                },
                "accounting_cost": {
                    "type": "string"
                },
                "accounting_customer_party": {
                    "$ref": "#/definitions/firs_models.Party"
                },
                "accounting_supplier_party": {
                    "$ref": "#/definitions/firs_models.Party"
                },
                "actual_delivery_date": {
                    "type": "string"
                },
                "allowance_charge": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/firs_models.AllowanceCharge"
                    }
                },
                "billing_reference": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/firs_models.DocumentReference"
                    }
                },
                "business_id": {
                    "type": "string"
                },
                "buyer_reference": {
                    "type": "string"
                },
                "contract_document_reference": {
                    "$ref": "#/definitions/firs_models.DocumentReference"
                },
                "dispatch_document_reference": {
                    "$ref": "#/definitions/firs_models.DocumentReference"
                },
                "document_currency_code": {
                    "type": "string"
                },
                "due_date": {
                    "type": "string"
                },
                "invoice_delivery_period": {
                    "$ref": "#/definitions/firs_models.InvoiceDeliveryPeriod"
                },
                "invoice_line": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/firs_models.InvoiceLine"
                    }
                },
                "invoice_number": {
                    "type": "string"
                },
                "invoice_type_code": {
                    "type": "string"
                },
                "irn": {
                    "type": "string"
                },
                "issue_date": {
                    "type": "string"
                },
                "issue_time": {
                    "type": "string"
                },
                "legal_monetary_total": {
                    "$ref": "#/definitions/firs_models.LegalMonetaryTotal"
                },
                "note": {
                    "type": "string"
                },
                "order_reference": {
                    "type": "string"
                },
                "originator_document_reference": {
                    "$ref": "#/definitions/firs_models.DocumentReference"
                },
                "payee_party": {
                    "$ref": "#/definitions/firs_models.Party"
                },
                "payment_means": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/firs_models.PaymentMeans"
                    }
                },
                "payment_status": {
                    "type": "string"
                },
                "payment_terms_note": {
                    "type": "string"
                },
                "receipt_document_reference": {
                    "$ref": "#/definitions/firs_models.DocumentReference"
                },
                "tax_currency_code": {
                    "type": "string"
                },
                "tax_point_date": {
                    "type": "string"
                },
                "tax_representative_party": {
                    "$ref": "#/definitions/firs_models.Party"
                },
                "tax_total": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/firs_models.TaxTotal"
                    }
                }
            }
        },
        "firs_models.Item": {
            "type": "object",
            "properties": {
                "description": {
                    "type": "string"
                },
                "name": {
                    "type": "string"
                },
                "sellers_item_identification": {
                    "type": "string"
                }
            }
        },
        "firs_models.LegalMonetaryTotal": {
            "type": "object",
            "properties": {
                "line_extension_amount": {
                    "type": "number"
                },
                "payable_amount": {
                    "type": "number"
                },
                "tax_exclusive_amount": {
                    "type": "number"
                },
                "tax_inclusive_amount": {
                    "type": "number"
                }
            }
        },
        "firs_models.Party": {
            "type": "object",
            "properties": {
                "business_description": {
                    "type": "string"
                },
                "email": {
                    "type": "string"
                },
                "party_name": {
                    "type": "string"
                },
                "postal_address": {
                    "$ref": "#/definitions/firs_models.PostalAddress"
                },
                "telephone": {
                    "type": "string"
                },
                "tin": {
                    "type": "string"
                }
            }
        },
        "firs_models.PaymentMeans": {
            "type": "object",
            "properties": {
                "payment_due_date": {
                    "type": "string"
                },
                "payment_means_code": {
                    "type": "string"
                }
            }
        },
        "firs_models.PostalAddress": {
            "type": "object",
            "properties": {
                "city_name": {
                    "type": "string"
                },
                "country": {
                    "type": "string"
                },
                "country_code": {
                    "type": "string"
                },
                "postal_zone": {
                    "type": "string"
                },
                "street_name": {
                    "type": "string"
                }
            }
        },
        "firs_models.Price": {
            "type": "object",
            "properties": {
                "base_quantity": {
                    "type": "integer"
                },
                "price_amount": {
                    "type": "number"
                },
                "price_unit": {
                    "type": "string"
                }
            }
        },
        "firs_models.TaxCategory": {
            "type": "object",
            "properties": {
                "id": {
                    "type": "string"
                },
                "percent": {
                    "type": "number"
                }
            }
        },
        "firs_models.TaxSubtotal": {
            "type": "object",
            "properties": {
                "tax_amount": {
                    "type": "number"
                },
                "tax_category": {
                    "$ref": "#/definitions/firs_models.TaxCategory"
                },
                "taxable_amount": {
                    "type": "number"
                }
            }
        },
        "firs_models.TaxTotal": {
            "type": "object",
            "properties": {
                "tax_amount": {
                    "type": "number"
                },
                "tax_subtotal": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/firs_models.TaxSubtotal"
                    }
                }
            }
        },
        "models.AccountingPlatformConfigAuth": {
            "type": "object",
            "properties": {
                "api_key": {
                    "type": "string"
                },
                "api_secret": {
                    "type": "string"
                },
                "auth_token": {
                    "type": "string"
                },
                "hmac_secret": {
                    "type": "string"
                },
                "org_id": {
                    "type": "string"
                }
            }
        },
        "models.CompleteForgotPassword": {
            "type": "object",
            "required": [
                "email",
                "otp",
                "password"
            ],
            "properties": {
                "email": {
                    "type": "string"
                },
                "otp": {
                    "type": "string"
                },
                "password": {
                    "type": "string",
                    "minLength": 6
                }
            }
        },
        "models.CreateUserRequestModel": {
            "type": "object",
            "required": [
                "company_name",
                "email",
                "name",
                "password",
                "phone_number",
                "tin"
            ],
            "properties": {
                "company_name": {
                    "type": "string"
                },
                "email": {
                    "type": "string"
                },
                "name": {
                    "type": "string",
                    "maxLength": 250,
                    "minLength": 2
                },
                "password": {
                    "type": "string",
                    "minLength": 6
                },
                "phone_number": {
                    "type": "string"
                },
                "platform_configs": {
                    "$ref": "#/definitions/models.PlatformConfigsAuth"
                },
                "tin": {
                    "type": "string"
                }
            }
        },
        "models.InitiateForgotPassword": {
            "type": "object",
            "required": [
                "email"
            ],
            "properties": {
                "email": {
                    "type": "string"
                }
            }
        },
        "models.LoginRequestModel": {
            "type": "object",
            "required": [
                "email",
                "password"
            ],
            "properties": {
                "email": {
                    "type": "string"
                },
                "password": {
                    "type": "string"
                }
            }
        },
        "models.LoginResponse": {
            "type": "object",
            "properties": {
                "business_id": {
                    "type": "string"
                },
                "email": {
                    "type": "string"
                },
                "id": {
                    "type": "string"
                },
                "name": {
                    "type": "string"
                },
                "service_id": {
                    "type": "string"
                },
                "tin": {
                    "type": "string"
                }
            }
        },
        "models.Ping": {
            "type": "object",
            "properties": {
                "message": {
                    "type": "string"
                }
            }
        },
        "models.PlatformConfigsAuth": {
            "type": "object",
            "additionalProperties": {
                "$ref": "#/definitions/models.AccountingPlatformConfigAuth"
            }
        },
        "models.Response": {
            "type": "object",
            "properties": {
                "data": {},
                "error": {},
                "extra": {},
                "message": {
                    "type": "string"
                },
                "name": {
                    "type": "string"
                },
                "pagination": {},
                "status": {
                    "type": "string"
                },
                "status_code": {
                    "type": "integer"
                }
            }
        },
        "models.UpdateBusinessIDRequest": {
            "type": "object",
            "required": [
                "business_id"
            ],
            "properties": {
                "business_id": {
                    "type": "string"
                }
            }
        }
    },
    "securityDefinitions": {
        "BearerAuth": {
            "description": "Type \"Bearer\" followed by a space and JWT token.",
            "type": "apiKey",
            "name": "Authorization",
            "in": "header"
        }
    }
}